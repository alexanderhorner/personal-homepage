{"mappings":"AAAA,IAAIA,KAAOC,SAASC,cAAc,QAC9BC,WAAa,GACbC,SAAW,KAEf,IAAIC,IAAM,IAAIC,eAEdN,KAAKO,iBAAiB,UAAWC,IAC7BA,EAAEC,iBAGFR,SAASC,cAAc,WAAWQ,UAAW,EAE7CN,SAAW,IAAIO,SAASX,MACxBG,WAAaH,KAAKY,aAAa,UAE/BP,IAAIQ,KAAK,OAAQV,YACjBE,IAAIS,KAAKV,UAETW,MAAMZ,WAAY,CACda,OAAQ,OACRC,KAAMb,WACPc,MAAKC,IACA,IAAKA,EAASC,OAAOC,WAAWC,WAAW,KACvC,KAAM,8BAEV,OAAOH,KACRD,MAAKC,IAEJlB,SAASC,cAAc,YAAYqB,MAAMC,QAAU,QAEnDvB,SAASC,cAAc,QAAQqB,MAAMC,QAAU,OAE/CC,QAAQC,IAAIP,EAASQ,WACtBC,OAAMC,IACLJ,QAAQC,IAAIG,GAEZ5B,SAASC,cAAc,UAAUqB,MAAMC,QAAU,QAEjDvB,SAASC,cAAc,WAAWQ,UAAW","sources":["src/js/form.ts"],"sourcesContent":["let form = document.querySelector(\"form\")\nlet actionPath = \"\";\nlet formData = null;\n\nvar xhr = new XMLHttpRequest();\n\nform.addEventListener(\"submit\", (e) => {\n    e.preventDefault();\n    \n    // @ts-ignore\n    document.querySelector(\".submit\").disabled = true;\n\n    formData = new FormData(form);\n    actionPath = form.getAttribute(\"action\");\n\n    xhr.open(\"POST\", actionPath);\n    xhr.send(formData);\n\n    fetch(actionPath, {\n        method: 'post',\n        body: formData,\n    }).then(response => {\n            if (!response.status.toString().startsWith(\"2\")) {\n                throw 'HTTP Status code is not 2xx';\n            }\n            return response\n        }).then(response => {\n            // @ts-ignore\n            document.querySelector(\".success\").style.display = \"block\"\n            // @ts-ignore\n            document.querySelector(\"form\").style.display = \"none\"\n\n            console.log(response.json())\n        }).catch(error => {\n            console.log(error);\n            // @ts-ignore\n            document.querySelector(\".error\").style.display = \"block\"\n            // @ts-ignore\n            document.querySelector(\".submit\").disabled = false;\n        });\n});\n"],"names":["form","document","querySelector","actionPath","formData","xhr","XMLHttpRequest","addEventListener","e","preventDefault","disabled","FormData","getAttribute","open","send","fetch","method","body","then","response","status","toString","startsWith","style","display","console","log","json","catch","error"],"version":3,"file":"index.43e1e72d.js.map"}